---
import BaseLayout from '../layouts/BaseLayout.astro';
---
<BaseLayout
  pageId="growing-lab"
  title="Micro-Grow Lab • GreenEdge"
  description="Experiment with seed selection, plant care, and harvest timing while staying compliant with New York allowances."
>
  <header>
    <div class="container">
      <nav class="page-nav">
        <a class="nav-brand" href="/">GreenEdge</a>
        <a href="/#experiences">← Back to all experiences</a>
      </nav>
    </div>
  </header>

  <main id="main-content">
    <section class="page-hero">
      <div class="container">
        <h1>Micro-grow training lab</h1>
        <p>
          Experiment with seed selection, plant care, and harvest timing while keeping everything compliant with New York home grow allowances.
        </p>
      </div>
    </section>

    <section class="section">
      <div class="container">
        <div class="stat-grid" data-animate>
          <div class="stat-tile">
            <span>Day</span>
            <strong id="statDay">1</strong>
          </div>
          <div class="stat-tile">
            <span>Bankroll</span>
            <strong id="statMoney">$500</strong>
          </div>
          <div class="stat-tile">
            <span>Experience</span>
            <strong id="statXP">0</strong>
          </div>
          <div class="stat-tile">
            <span>Score</span>
            <strong id="statScore">0</strong>
          </div>
        </div>
      </div>
    </section>

    <section class="section" style="padding-top:0;">
      <div class="container grow-grid">
        <div class="lab-panel" data-animate>
          <h2>Seed catalog</h2>
          <p>Each selection mirrors a real-world cultivar with estimated grow times and yields.</p>
          <div id="seedCatalog" class="grow-grid" style="grid-template-columns:1fr;"></div>
        </div>
        <div class="lab-panel" data-animate>
          <h2>Your plants</h2>
          <p>Monitor health stats and take action before stress sets in.</p>
          <div id="plantDeck" class="grow-grid" style="grid-template-columns:1fr;"></div>
          <button class="btn btn-primary" id="advanceDay" type="button">Advance a day</button>
          <p style="color:var(--muted); font-size:0.9rem;">Advancing a day updates every plant's growth stage, water, and light needs.</p>
        </div>
      </div>
    </section>

    <section class="section" style="padding-top:0;">
      <div class="container split-layout">
        <div class="surface" data-animate>
          <h3>Compliance checkpoints</h3>
          <ul>
            <li>Indoor plant count stays below home-grow limits and surfaces alerts when parameters drift.</li>
            <li>Environmental logs ready for regulator review with downloadable CSV exports.</li>
            <li>Integrates with <code>/.netlify/functions/strains</code> to recommend genetics suited for your setup.</li>
          </ul>
        </div>
        <div class="surface" data-animate>
          <h3>Automation roadmap</h3>
          <p>Netlify serverless functions orchestrate nutrient reminders and reservation tie-ins for lab tours.</p>
          <ul>
            <li><code>GET /.netlify/functions/strains</code> · Suggest regionally compliant cultivars.</li>
            <li><code>POST /.netlify/functions/reservations</code> · Book lab walkthroughs with cultivation mentors.</li>
            <li><code>POST /.netlify/functions/reviews</code> · Capture grow log milestones shared with the community.</li>
          </ul>
        </div>
      </div>
    </section>
  </main>

  <div class="notification-stack" aria-live="polite"></div>

  <Fragment slot="scripts">
    <script src="/scripts/growing-lab.js" defer></script>
  </Fragment>
</BaseLayout>
